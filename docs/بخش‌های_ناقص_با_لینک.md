# ğŸ”— Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ÛŒ Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒ Ù†Ø§Ù‚Øµ Ùˆ Ù†ÛŒØ§Ø²Ù…Ù†Ø¯ ØªÚ©Ù…ÛŒÙ„

**ØªØ§Ø±ÛŒØ®**: ${new Date().toLocaleDateString('fa-IR')}

---

## âš ï¸ Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒ Ù†Ø§Ù‚Øµ (5%)

### 1ï¸âƒ£ **Upload ØªØµØ§ÙˆÛŒØ±** âš ï¸

**Ù…Ø³ÛŒØ± ÙØ§ÛŒÙ„**: `app/settings/restaurant/page.tsx`  
**Ø®Ø·**: 270  
**Ù„ÛŒÙ†Ú© Ù…Ø³ØªÙ‚ÛŒÙ…**: `app/settings/restaurant/page.tsx:270`

**Ù…Ø´Ú©Ù„**:
```typescript
// TODO: Upload to server and get URL
// For now, we'll save it as data URL in the settings
```

**Ù†ÛŒØ§Ø²Ù…Ù†Ø¯**:
- âš ï¸ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ API endpoint Ø¨Ø±Ø§ÛŒ upload
- âš ï¸ Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø± MongoDB ÛŒØ§ file system
- âš ï¸ Ø¨Ø§Ø²Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù† URL

**Ø§ÙˆÙ„ÙˆÛŒØª**: Ù…ØªÙˆØ³Ø·

**Ú©Ø¯ ÙØ¹Ù„ÛŒ**:
```typescript
reader.readAsDataURL(file)
// TODO: Upload to server and get URL
// For now, we'll save it as data URL in the settings
```

---

### 2ï¸âƒ£ **Printer Integration** âš ï¸ (Ù†ÛŒØ§Ø² Ø¨Ù‡ ØªØ³Øª)

**Ù…Ø³ÛŒØ± ÙØ§ÛŒÙ„**: `app/settings/printer-config/page.tsx`  
**Ù„ÛŒÙ†Ú© Ù…Ø³ØªÙ‚ÛŒÙ…**: `app/settings/printer-config/page.tsx`

**ÙˆØ¶Ø¹ÛŒØª**: API Ú©Ø§Ù…Ù„ Ø§Ø³Øª Ø§Ù…Ø§ Ù†ÛŒØ§Ø² Ø¨Ù‡ ØªØ³Øª Ø¨Ø§ Ú†Ø§Ù¾Ú¯Ø± ÙˆØ§Ù‚Ø¹ÛŒ

**Ù†ÛŒØ§Ø²Ù…Ù†Ø¯**:
- âš ï¸ ØªØ³Øª Ø¨Ø§ Ú†Ø§Ù¾Ú¯Ø± ÙˆØ§Ù‚Ø¹ÛŒ
- âš ï¸ ØªÙ†Ø¸ÛŒÙ…Ø§Øª port Ùˆ driver
- âš ï¸ Ù‚Ø§Ù„Ø¨â€ŒÙ‡Ø§ÛŒ Ú†Ø§Ù¾

**Ø§ÙˆÙ„ÙˆÛŒØª**: Ú©Ù…

**API Ù…ÙˆØ¬ÙˆØ¯**: `/api/printer-config`

---

### 3ï¸âƒ£ **Authorization Middleware** âš ï¸ (Ù†ÛŒØ§Ø² Ø¨Ù‡ ØªØ³Øª Ú©Ø§Ù…Ù„)

**Ù…Ø³ÛŒØ± ÙØ§ÛŒÙ„**: `middleware.ts`  
**Ù„ÛŒÙ†Ú© Ù…Ø³ØªÙ‚ÛŒÙ…**: `middleware.ts`

**ÙˆØ¶Ø¹ÛŒØª**: Middleware ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯ Ø§Ù…Ø§ Ù†ÛŒØ§Ø² Ø¨Ù‡ ØªØ³Øª Ú©Ø§Ù…Ù„

**Ù…Ø´Ú©Ù„**:
```typescript
// For now, allow all other routes
// Authentication will be handled in the layout component
```

**Ù†ÛŒØ§Ø²Ù…Ù†Ø¯**:
- âš ï¸ ØªØ³Øª ØªÙ…Ø§Ù… endpoints
- âš ï¸ ØªØ³Øª ØªÙ…Ø§Ù… roles
- âš ï¸ ØªØ³Øª permissions
- âš ï¸ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ú©Ø§Ù…Ù„ authentication

**Ø§ÙˆÙ„ÙˆÛŒØª**: Ø¨Ø§Ù„Ø§

**Ú©Ø¯ ÙØ¹Ù„ÛŒ**:
```typescript
// For now, allow all other routes
// Authentication will be handled in the layout component
return NextResponse.next()
```

---

## âœ… Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ù‚Ø¨Ù„Ø§Ù‹ Ù†Ø§Ù‚Øµ Ø¨ÙˆØ¯Ù†Ø¯ Ø§Ù…Ø§ Ø§Ú©Ù†ÙˆÙ† Ú©Ø§Ù…Ù„ Ù‡Ø³ØªÙ†Ø¯:

### 1. `/orders/ready` âœ…
**Ù…Ø³ÛŒØ± ÙØ§ÛŒÙ„**: `app/orders/ready/page.tsx`  
**ÙˆØ¶Ø¹ÛŒØª**: âœ… Ø§Ø² API Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ (`/api/orders?status=ready`)

### 2. `/orders/completed` âœ…
**Ù…Ø³ÛŒØ± ÙØ§ÛŒÙ„**: `app/orders/completed/page.tsx`  
**ÙˆØ¶Ø¹ÛŒØª**: âœ… Ø§Ø² API Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ (`/api/orders?status=completed`)

### 3. `/accounting/cash-drawers` âœ…
**Ù…Ø³ÛŒØ± ÙØ§ÛŒÙ„**: `app/accounting/cash-drawers/page.tsx`  
**ÙˆØ¶Ø¹ÛŒØª**: âœ… ØµÙØ­Ù‡ Ú©Ø§Ù…Ù„ Ø§Ø³Øª Ùˆ Ø§Ø² API Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ (`/api/cashier-sessions`)

---

## ğŸ› Ø®Ø·Ø§Ù‡Ø§ÛŒ Build

### 1. Ø®Ø·Ø§ÛŒ TypeScript Ø¯Ø± `add-sample-delivery-data` âŒ

**Ù…Ø³ÛŒØ± ÙØ§ÛŒÙ„**: `app/api/add-sample-delivery-data/route.ts`  
**ÙˆØ¶Ø¹ÛŒØª**: âŒ ÙØ§ÛŒÙ„ Ù¾ÛŒØ¯Ø§ Ù†Ø´Ø¯ (Ø§Ø­ØªÙ…Ø§Ù„Ø§Ù‹ Ø­Ø°Ù Ø´Ø¯Ù‡)

**Ø®Ø·Ø§**:
```
Type error: Variable 'client' is used before being assigned.
```

**Ø±Ø§Ù‡ Ø­Ù„**: 
- Ø§Ú¯Ø± ÙØ§ÛŒÙ„ Ù†ÛŒØ§Ø² Ø§Ø³ØªØŒ Ø¨Ø§ÛŒØ¯ Ø±ÙØ¹ Ø®Ø·Ø§ Ø´ÙˆØ¯
- Ø§Ú¯Ø± Ù†ÛŒØ§Ø² Ù†ÛŒØ³ØªØŒ Ø¨Ø§ÛŒØ¯ Ø§Ø² `build-errors.txt` Ø­Ø°Ù Ø´ÙˆØ¯

---

## ğŸ“‹ Ø®Ù„Ø§ØµÙ‡

### Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒ Ù†Ø§Ù‚Øµ ÙˆØ§Ù‚Ø¹ÛŒ:
1. âš ï¸ **Upload ØªØµØ§ÙˆÛŒØ±** - `app/settings/restaurant/page.tsx:270`
2. âš ï¸ **Printer Integration** - `app/settings/printer-config/page.tsx` (Ù†ÛŒØ§Ø² Ø¨Ù‡ ØªØ³Øª)
3. âš ï¸ **Authorization Middleware** - `middleware.ts` (Ù†ÛŒØ§Ø² Ø¨Ù‡ ØªØ³Øª Ú©Ø§Ù…Ù„)

### Ø§ÙˆÙ„ÙˆÛŒØªâ€ŒØ¨Ù†Ø¯ÛŒ:
1. **Ø§ÙˆÙ„ÙˆÛŒØª Ø¨Ø§Ù„Ø§**: Authorization Middleware
2. **Ø§ÙˆÙ„ÙˆÛŒØª Ù…ØªÙˆØ³Ø·**: Upload ØªØµØ§ÙˆÛŒØ±
3. **Ø§ÙˆÙ„ÙˆÛŒØª Ú©Ù…**: Printer Integration

---

## ğŸ”§ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø±ÙØ¹ Ù…Ø´Ú©Ù„Ø§Øª

### Ø¨Ø±Ø§ÛŒ Ø±ÙØ¹ Upload ØªØµØ§ÙˆÛŒØ±:

1. Ø§ÛŒØ¬Ø§Ø¯ API endpoint:
```typescript
// app/api/upload/route.ts
export async function POST(request: NextRequest) {
  // Ø¯Ø±ÛŒØ§ÙØª ÙØ§ÛŒÙ„
  // Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø± MongoDB ÛŒØ§ file system
  // Ø¨Ø§Ø²Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù† URL
}
```

2. Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ `app/settings/restaurant/page.tsx`:
```typescript
const formData = new FormData()
formData.append('file', file)
const response = await fetch('/api/upload', {
  method: 'POST',
  body: formData
})
const { url } = await response.json()
```

### Ø¨Ø±Ø§ÛŒ Ø±ÙØ¹ Authorization:

1. Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ú©Ø§Ù…Ù„ authentication Ø¯Ø± `middleware.ts`
2. ØªØ³Øª ØªÙ…Ø§Ù… endpoints
3. ØªØ³Øª ØªÙ…Ø§Ù… roles Ùˆ permissions

---

**ØªØ§Ø±ÛŒØ® Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ**: ${new Date().toLocaleDateString('fa-IR')}

